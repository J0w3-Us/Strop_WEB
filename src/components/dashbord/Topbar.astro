---

---

<div class="topbar">
  <div style="padding-left: 12px;">
    <div
      style="color:#64748b;font-size:0.8rem;font-weight:500;text-transform:uppercase;letter-spacing:0.5px"
    >
      PROYECTO ACTIVO
    </div>
    <h1 style="margin:4px 0 0 0;color:#07263f;font-size:1.5rem">
      Residencial del valle
    </h1>
  </div>

  <div style="display:flex;align-items:center;gap:16px">
    <div class="search">
      <input placeholder="Buscar en el proyecto..." style="width:300px" />
    </div>
    <button
      style="background:#f8fafc;border:1px solid #e2e8f0;padding:8px 12px;border-radius:6px;color:#64748b"
    >
      <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
        <path
          d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"
        ></path>
        <path
          d="M5.255 5.786a.237.237 0 0 0 .241.247h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286zm1.557 5.763c0 .533.425.927 1.01.927.609 0 1.028-.394 1.028-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94z"
        ></path>
      </svg>
    </button>
    <div class="user-menu-container">
      <div
        class="avatar user-avatar-btn"
        title="Usuario"
        style="background:#3b82f6;color:white;font-weight:600;cursor:pointer"
        id="userAvatarBtn"
      > u
      </div>
      <div class="user-dropdown" id="userDropdown">
        <div class="dropdown-header">
          <div
            class="avatar"
            style="background:#3b82f6;color:white;font-weight:600;width:48px;height:48px;font-size:16px"
          >
            U
          </div>
          <div style="flex:1">
            <div style="font-weight:600;color:var(--color-text)">
              Usuario Actual
            </div>
            <div style="font-size:0.85rem;color:var(--color-text-secondary)">
              usuario@strop.com
            </div>
          </div>
        </div>
        <div class="dropdown-divider"></div>
        <a href="/configuracion" class="dropdown-item">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
            <circle cx="12" cy="12" r="3"></circle>
            <path
              d="M12 1v6m0 6v6m5.657-13.657l-4.243 4.243m-2.828 2.828l-4.243 4.243m14.142 0l-4.243-4.243m-2.828-2.828l-4.243-4.243"
            ></path>
          </svg>
          Configuración
        </a>
        <a href="/usuarios/perfil" class="dropdown-item">
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
            <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>
            <circle cx="9" cy="7" r="4"></circle>
          </svg>
          Mi Perfil
        </a>
        <div class="dropdown-divider"></div>
        <button
          class="dropdown-item"
          style="color:var(--color-danger)"
          onclick="alert('Cerrando sesión...')"
        >
          <svg width="16" height="16" fill="currentColor" viewBox="0 0 24 24">
            <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>
            <polyline points="16 17 21 12 16 7"></polyline>
            <line x1="21" y1="12" x2="9" y2="12"></line>
          </svg>
          Cerrar Sesión
        </button>
      </div>
    </div>
  </div>
</div>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    const avatarBtn = document.getElementById("userAvatarBtn");
    const dropdown = document.getElementById("userDropdown");

    if (avatarBtn && dropdown) {
      avatarBtn.addEventListener("click", function (e) {
        e.stopPropagation();
        dropdown.classList.toggle("show");
      });

      document.addEventListener("click", function () {
        dropdown.classList.remove("show");
      });

      dropdown.addEventListener("click", function (e) {
        e.stopPropagation();
      });
    }
  });
</script>
