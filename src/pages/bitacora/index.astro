---
import DashboardLayout from "../../layouts/DashboardLayout.astro";
import BitacoraList from "../../components/bitacora/BitacoraList.jsx";
import { dataService } from "../../services/dataService";
import "../../styles/bitacora.css";

// Fetch projects for filter dropdown
const projects = await dataService.projects.list();
---

<DashboardLayout title="Bitácora | STROP Admin">
    <div class="bitacora-page">
        <div class="page-header">
            <div>
                <h1 class="page-title">Bitácora</h1>
                <p class="page-subtitle">
                    Registro inmutable de todas las acciones del sistema
                </p>
            </div>
        </div>

        <BitacoraList client:load initialProjects={projects} />
    </div>
</DashboardLayout>

<style>
    .bitacora-page {
        padding: 0;
    }

    .page-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 1.5rem;
    }

    .page-title {
        font-size: 1.5rem;
        font-weight: 700;
        color: #1e293b;
        margin: 0 0 0.25rem 0;
    }

    .page-subtitle {
        font-size: 0.9rem;
        color: #64748b;
        margin: 0;
    }
</style>
