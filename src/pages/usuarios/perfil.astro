---
import Layout from "../../layouts/Layout.astro";
import Sidebar from "../../components/dashbord/Sidebar.astro";
import Topbar from "../../components/dashbord/Topbar.astro";
import "../../styles/dashbord.css";

const user = {
  id: 1,
  nombre: "Danielle Pimentel",
  role: "Leasing Agent",
  email: "daniellepimentel@gmail.com",
  telefono: "555-55-2261",
  ciudad: "Los Angeles",
  estadoCuenta: "Account Created",
  twoFactor: "Not Set",
  userType: "Staff Member",
  propertyAccess: "All Property",
};
---

<Layout title={`Perfil - ${user.nombre}`}>
  <div class="dashboard-layout">
    <Sidebar />

    <div class="main-content">
      <Topbar />

      <div class="content-area">
        <div class="proyectos-container perfil-container">
          <div
            class="proyectos-header"
            style="align-items:flex-start; gap:16px;"
          >
            <div style="flex:1">
              <h1 class="page-title">Profile</h1>
            </div>
            <div class="header-right">
              <button class="btn-action" title="Edit Profile">âœŽ Edit</button>
            </div>
          </div>

          <div class="perfil-grid">
            <!-- Left tabs -->
            <aside class="perfil-tabs">
              <nav>
                <button class="status-tab active">Profile</button>
                <button class="status-tab">Teams</button>
                <button class="status-tab">Reset password</button>
                <button class="status-tab">Sign As User</button>
                <button class="status-tab">Notification</button>
                <button class="status-tab">Billing</button>
                <button class="status-tab">Block Access</button>
                <button class="status-tab">Delete Account</button>
              </nav>
            </aside>

            <!-- Main profile content -->
            <section class="perfil-main">
              <div class="profile-card">
                <div class="profile-hero"></div>
                <div class="profile-header">
                  <div class="profile-avatar">DP</div>
                  <div class="profile-meta">
                    <h2 style="margin:0">{user.nombre}</h2>
                    <div style="color:var(--color-text-secondary);">
                      {user.role}
                    </div>
                    <div style="margin-top:8px; display:flex; gap:8px;">
                      <button class="btn-action">ðŸ”—</button>
                      <button class="btn-action">âœ‰</button>
                      <button class="btn-action">âš™</button>
                    </div>
                  </div>
                  <div class="profile-edit">
                    <button class="btn-action">Edit</button>
                  </div>
                </div>
              </div>

              <div class="sidebar-card staff-info">
                <div
                  style="display:flex; justify-content:space-between; align-items:center;"
                >
                  <h3 style="margin:0">Staff Member Information</h3>
                  <button class="btn-action">Edit</button>
                </div>

                <div class="staff-grid">
                  <label>Email<div class="input-like">{user.email}</div></label>
                  <label
                    >Phone<div class="input-like">{user.telefono}</div></label
                  >
                  <label>City<div class="input-like">{user.ciudad}</div></label>

                  <label
                    >Account Status<div class="input-like">
                      {user.estadoCuenta}
                    </div></label
                  >
                  <label
                    >Two Factor Authentication<div class="input-like">
                      {user.twoFactor}
                    </div></label
                  >
                  <label>Role<div class="input-like">{user.role}</div></label>

                  <label
                    >User Type<div class="input-like">
                      {user.userType}
                    </div></label
                  >
                  <label
                    >Property Access<div class="input-like">
                      {user.propertyAccess}
                    </div></label
                  >
                  <label>City<div class="input-like">{user.ciudad}</div></label>
                </div>
              </div>
            </section>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      // set active navigation (mark /usuarios and subpaths)
      const currentPath = window.location.pathname;
      const navItems = document.querySelectorAll(".nav-item");
      navItems.forEach((item) => {
        item.classList.remove("active");
        const href = item.getAttribute("href");
        if (href && (currentPath === href || currentPath.startsWith(href)))
          item.classList.add("active");
      });
    });
  </script>
</Layout>
